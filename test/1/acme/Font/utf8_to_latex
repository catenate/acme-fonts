#!/bin/bash
# $Id: utf8_to_latex,v 1.13 2012/06/06 15:01:45 chris Exp $
# Converts UTF-8 encoded plain text to LaTeX.
# Author: Christian Steinruecken
# 
# KNOWN ISSUES:
#   using \dag and \ddag instead of $\dagger$ and $\ddagger$
#   using \{ and \} instead of $\lbrace$ and $\rbrace$
#   using [ and ] instead of $\lbrack$ and $\rbrack$
#   Å‰ is approximated by 'n
#   Ä² is approximated by IJ, and Ä³ by ij
#   Ä¿ and Å€ are approximated with L\! or l followed by \cdot
#   {Ä¦, Ä§, Å¦, Å§} are encoded with \B{Â·} and may need special support
#   Latin-A symbols omitted in current version: Ä¸ Å… Å† Ä» Ä¼ Ä¢ Ä£ Å– Å— Å¢ Å£ Å¿
#
sed '
s/\\/\\backslash{}/g
s%{%\\{%g
s%}%\\}%g
s%\\backslash\\{\\}%\\backslash{}%g
s/\$/\\$/g
s%\^%\\textasciicircum{}%g
s/&/\&/g
s/&/\&/g
s/%/\\%/g
s/#/\\#/g
s/_/\\_/g
s/&/\\&/g
s/ï¬€/ff/g
s/ï¬/fi/g
s/ï¬‚/fl/g
s/ï¬ƒ/ffi/g
s/ï¬„/ffl/g
s/Â¡/!`/g
s/Â¿/?`/g
s/â€Ÿ/``/g
s/â€œ/``/g
s/â€/'"''"'/g
s/Å“/\\oe{}/g
s/Å’/\\OE{}/g
s/Ã¦/\\ae{}/g
s/Ã†/\\AE{}/g
s/Ã¥/\\aa{}/g
s/Ã…/\\AA{}/g
s/Ã¸/\\o{}/g
s/Ã˜/\\O{}/g
s/Å‚/\\l{}/g
s/Å/\\L{}/g
s/ÃŸ/\\ss{}/g
s/áº/\\SS{}/g
s/Ã‡/\\c{C}/g
s/Ã§/\\c{c}/g
s/Â§/\\S{}/g
s/Â¶/\\P{}/g
s/Ã€/\\`A/g
s/Ã/\\'"'"'A/g
s/Ã‚/\\^A/g
s/Ãƒ/\\~A/g
s/Ã„/\\"A/g
s/Ãˆ/\\`E/g
s/Ã‰/\\'"'"'E/g
s/ÃŠ/\\^E/g
s/Ã‹/\\"E/g
s/ÃŒ/\\`I/g
s/Ã/\\'"'"'I/g
s/Ã/\\^I/g
s/Ã/\\"I/g
s/Ã/\\DH{}/g
s/Ã‘/\\~N/g
s/Ã’/\\`O/g
s/Ã“/\\'"'"'O/g
s/Ã”/\\^O/g
s/Ã•/\\~O/g
s/Ã–/\\"O/g
s/Ã™/\\`U/g
s/Ãš/\\'"'"'U/g
s/Ã›/\\^U/g
s/Ãœ/\\"U/g
s/Ã/\\'"'"'Y/g
s/Ã/\TH{}/g
s/Ã /\\`a/g
s/Ã¡/\\'"'"'a/g
s/Ã¢/\\^a/g
s/Ã£/\\~a/g
s/Ã¤/\\"a/g
s/Ã¨/\\`e/g
s/Ã©/\\'"'"'e/g
s/Ãª/\\^e/g
s/Ã«/\\"e/g
s/Ã¬/\\`{\\i}/g
s/Ã­/\\'"'"'{\\i}/g
s/Ã®/\\^{\i}/g
s/Ã¯/\\"{\i}/g
s/Ã°/\\dh{}/g
s/Ã±/\\~n/g
s/Ã²/\\`o/g
s/Ã³/\\'"'"'o/g
s/Ã´/\\^o/g
s/Ãµ/\\~o/g
s/Ã¶/\\"o/g
s/Ã¹/\\`u/g
s/Ãº/\\'"'"'u/g
s/Ã»/\\^u/g
s/Ã¼/\\"u/g
s/Ã½/\\'"'"'y/g
s/Ã¾/\th{}/g
s/Ã¿/\\"y/g
s/Ä€/\\={A}/g
s/Ä/\\={a}/g
s/Ä‚/\\u{A}/g
s/Äƒ/\\u{a}/g
s/Ä„/\\k{A}/g
s/Ä…/\\k{a}/g
s/Ä†/\\'"'"'C/g
s/Ä‡/\\'"'"'c/g
s/Äˆ/\\^C/g
s/Ä‰/\\^c/g
s/ÄŠ/\\.C/g
s/Ä‹/\\.c/g
s/ÄŒ/\\v{C}/g
s/Ä/\\v{c}/g
s/Ä/\\v{D}/g
s/Ä/\\v{d}/g
s/Ä/\\DJ{}/g
s/Ä‘/\\dj{}/g
s/Ä’/\\={E}/g
s/Ä“/\\={e}/g
s/Ä”/\\u{E}/g
s/Ä•/\\u{e}/g
s/Ä–/\\.E/g
s/Ä—/\\.e/g
s/Ä˜/\\k{E}/g
s/Ä™/\\k{e}/g
s/Äš/\\v{E}/g
s/Ä›/\\v{e}/g
s/Äœ/\\^{G}/g
s/Ä/\\^{g}/g
s/Ä/\\u{G}/g
s/ÄŸ/\\u{g}/g
s/Ä /\\.G/g
s/Ä¡/\\.g/g
s/Ä¤/\\^H/g
s/Ä¥/\\^h/g
s/Ä¦/\\B{H}/g
s/Ä§/\\B{h}/g
s/Ä¨/\\~I/g
s/Ä©/\\~i/g
s/Äª/\\=I/g
s/Ä«/\\={\\i}/g
s/Ä¬/\\u{I}/g
s/Ä­/\\u{\\i}/g
s/Ä®/\\k{I}/g
s/Ä¯/\\k{i}/g
s/Ä°/\\.I/g
s/Ä±/\\i/g
s/Ä²/IJ/g
s/Ä³/ij/g
s/Ä´/\\^J/g
s/Äµ/\\^{\\j}/g
s/Ä¶/\\c{K}/g
s/Ä·/\\c{k}/g
s/Ä¹/\\'"'"'L/g
s/Äº/\\'"'"'l/g
s/Ä½/\\v{L}/g
s/Ä¾/\\v{l}/g
s/Ä¿/L\\!\\cdot{}/g
s/Å€/l\\cdot{}/g
s/Åƒ/\\'"'"'N/g
s/Å„/\\'"'"'n/g
s/Å‡/\\v{N}/g
s/Åˆ/\\v{n}/g
s/Å‰/'"'"'n/g
s/ÅŠ/\\NG/g
s/Å‹/\\ng/g
s/ÅŒ/\\=O/g
s/Å/\\=o/g
s/Å/\\u{O}/g
s/Å/\\u{o}/g
s/Å/\\H{O}/g
s/Å‘/\\H{o}/g
s/Å”/\\'"'"'R/g
s/Å•/\\'"'"'r/g
s/Å˜/\\v{R}/g
s/Å™/\\v{r}/g
s/Åš/\\'"'"'S/g
s/Å›/\\'"'"'s/g
s/Åœ/\\^S/g
s/Å/\\^s/g
s/Å/\\c{S}/g
s/ÅŸ/\\c{s}/g
s/Å /\\v{S}/g
s/Å¡/\\v{s}/g
s/Å¤/\\v{T}/g
s/Å¥/\\v{t}/g
s/Å¦/\\B{T}/g
s/Å§/\\B{t}/g
s/Å¨/\\~U/g
s/Å©/\\~u/g
s/Åª/\\=U/g
s/Å«/\\=u/g
s/Å¬/\\u{U}/g
s/Å­/\\u{u}/g
s/Å®/\\r{U}/g
s/Å¯/\\r{r}/g
s/Å°/\\H{U}/g
s/Å±/\\H{u}/g
s/Å²/\\k{U}/g
s/Å³/\\k{u}/g
s/Å´/\\^W/g
s/Åµ/\\^w/g
s/Å¶/\\^Y/g
s/Å·/\\^y/g
s/Å¸/\\"Y/g
s/Å¹/\\'"'"'Z/g
s/Åº/\\'"'"'z/g
s/Å»/\\.Z/g
s/Å¼/\\.z/g
s/Å½/\\v{Z}/g
s/Å¾/\\v{z}/g
s/â€ /\\dag{}/g
s/â€¡/\\ddag{}/g
s/Â©/\\copyright{}/g
s/Â£/\\pounds{}/g
s/â€¦/\\ldots{}/g
s%Î±%$\\alpha{}$%g 
s%Î²%$\\beta{}$%g
s%Î³%$\\gamma{}$%g
s%Î´%$\\delta{}$%g
s%Ïµ%$\\epsilon{}$%g
s%Îµ%$\\varepsilon{}$%g
s%Î¶%$\\zeta{}$%g
s%Î·%$\\eta{}$%g
s%Î¸%$\\theta{}$%g
s%Ï‘%$\\vartheta{}$%g
s%Î¹%$\\iota{}$%g
s%Îº%$\\kappa{}$%g
s%Î»%$\\lambda{}$%g
s%Î¼%$\\mu{}$%g
s%Î½%$\\nu{}$%g
s%Î¾%$\\xi{}$%g
s%Î¿%o$%g
s%Ï€%$\\pi{}$%g
s%Ï–%$\\varpi{}$%g
s%Ï%$\\rho{}$%g
s%Ï±%$\\varrho{}$%g
s%Ïƒ%$\\sigma{}$%g
s%Ï‚%$\\varsigma{}$%g
s%Ï„%$\\tau{}$%g
s%Ï…%$\\upsilon{}$%g
s%Ï•%$\\phi{}$%g
s%Ï†%$\\varphi{}$%g
s%Ï‡%$\\chi{}$%g
s%Ïˆ%$\\psi{}$%g
s%Ï‰%$\\omega{}$%g
s%Î“%$\\Gamma{}$%g
s%Î”%$\\Delta{}$%g
s%Î˜%$\\Theta{}$%g
s%Î›%$\\Lambda{}$%g
s%Î%$\\Xi{}$%g
s%Î %$\\Pi{}$%g
s%Î£%$\\Sigma{}$%g
s%Î¥%$\\Upsilon{}$%g
s%Î¦%$\\Phi{}$%g
s%Î¨%$\\Psi{}$%g
s%Î©%$\\Omega{}$%g
s%â„µ%$\\aleph{}$%g
s%âˆ€%$\\forall{}$%g
s%â„%$\\hbar{}$%g
s%Ä±%$\\imath{}$%g
s%È·%$\\jmath{}$%g
s%â„“%$\\ell{}$%g
s%â„˜%$\\wp{}$%g
s%â„œ%$\\Re{}$%g
s%â„‘%$\\Im{}$%g
s%âˆ‚%$\\partial{}$%g
s%âˆ%$\\infty{}$%g
s%â–¡%$\\Box{}$%g
s%â—‡%$\\Diamond{}$%g
s%âˆ…%$\\emptyset{}$%g
s%âˆ‡%$\\nabla{}$%g
s%âˆš%$\\surd{}$%g
s%âŠ¤%$\\top{}$%g
s%âŠ¥%$\\bot{}$%g
s%âˆ¥%$\\|$%g
s%âˆ %$\\angle{}$%g
s%â–³%$\\triangle{}$%g
s%âˆƒ%$\\exists{}$%g
s%Â¬%$\\neg{}$%g
s%â™­%$\\flat{}$%g
s%â™®%$\\natural{}$%g
s%â™¯%$\\sharp{}$%g
s%â™¡%$\\heartsuit{}$%g
s%â™ %$\\spadesuit{}$%g
s%â™£%$\\clubsuit{}$%g
s%â™¢%$\\diamondsuit{}$%g
s%âˆ‘%$\\sum$%g
s%âˆ%$\\prod$%g
s%âˆ%$\\coprod$%g
s%âˆ«%$\\int$%g
s%âˆ®%$\\oint$%g
s%â‹‚%$\\bigcap$%g
s%â‹ƒ%$\\bigcup$%g
s%â¨†%$\\bigsqcup$%g
s%â‹%$\\bigvee$%g
s%â‹€%$\\bigwedge$%g
s%â¨€%$\\bigodot$%g
s%â¨‚%$\\bigotimes$%g
s%â¨%$\\bigoplus$%g
s%â¨„%$\\biguplus$%g
s%Â±%$\\pm{}$%g
s%âˆ“%$\\mp{}$%g
s%âˆ–%$\\setminus{}$%g
s%â‹…%$\\cdot{}$%g
s%Ã—%$\\times{}$%g
s%âˆ—%$\\ast{}$%g
s%â‹†%$\\star{}$%g
s%â‹„%$\\diamond{}$%g
s%âˆ˜%$\\circ{}$%g
s%âˆ™%$\\bullet{}$%g
s%Ã·%$\\div{}$%g
s%âŠ²%$\\lhd{}$%g
s%âˆ©%$\\cap{}$%g
s%âˆª%$\\cup{}$%g
s%âŠ%$\\uplus{}$%g
s%âŠ“%$\\sqcap{}$%g
s%âŠ”%$\\sqcup{}$%g
s%â—%$\\triangleleft{}$%g
s%â–·%$\\triangleright{}$%g
s%â‰€%$\\wr{}$%g
s%â—¯%$\\bigcirc{}$%g
s%â–³%$\\bigtriangleup{}$%g
s%â–½%$\\bigtriangledown{}$%g
s%âŠ³%$\\rhd{}$%g
s%âˆ¨%$\\vee{}$%g
s%âˆ§%$\\wedge{}$%g
s%âŠ•%$\\oplus{}$%g
s%âŠ–%$\\ominus{}$%g
s%âŠ—%$\\otimes{}$%g
s%âŠ˜%$\\oslash{}$%g
s%âŠ™%$\\odot{}$%g
s%â¨¿%$\\amalg{}$%g
s%âŠ´%$\\unlhd{}$%g
s%âŠµ%$\\unrhd{}$%g
s%â‰¤%$\\leq{}$%g
s%â‰º%$\\prec{}$%g
s%â‰¼%$\\preceq{}$%g
s%â‰ª%$\\ll{}$%g
s%âŠ‚%$\\subset{}$%g
s%âŠ†%$\\subseteq{}$%g
s%âŠ‘%$\\sqsubseteq{}$%g
s%âˆˆ%$\\in{}$%g
s%âŠ¢%$\\vdash{}$%g
s%âŒ£%$\\smile{}$%g
s%âŒ¢%$\\frown{}$%g
s%âŠ%$\\sqsubset{}$%g
s%â‰¥%$\\geq{}$%g
s%â‰»%$\\succ{}$%g
s%â‰½%$\\succeq{}$%g
s%â‰«%$\\gg{}$%g
s%âŠƒ%$\\supset{}$%g
s%âŠ‡%$\\supseteq{}$%g
s%âŠ’%$\\sqsupseteq{}$%g
s%âˆ‹%$\\ni{}$%g
s%âŠ£%$\\dashv{}$%g
s%âˆ£%$\\mid{}$%g
s%âˆ¥%$\\parallel{}$%g
s%âŠ%$\\sqsupset{}$%g
s%â‰¡%$\\equiv{}$%g
s%âˆ¼%$\\sim{}$%g
s%â‰ƒ%$\\simeq{}$%g
s%â‰%$\\asymp{}$%g
s%â‰ˆ%$\\approx{}$%g
s%â‰…%$\\cong{}$%g
s%â‹ˆ%$\\bowtie{}$%g
s%âˆ%$\\propto{}$%g
s%âŠ¨%$\\models{}$%g
s%â‰%$\\doteq{}$%g
s%âŠ¥%$\\perp{}$%g
s%â¨%$\\Join{}$%g
s%â‰®%$\\not<{}$%g
s%â‰°%$\\not\leq{}$%g
s%âŠ€%$\\not\prec{}$%g
s%â‹ %$\\not\preceq{}$%g
s%âŠ„%$\\not\subset{}$%g
s%âŠˆ%$\\not\subseteq{}$%g
s%â‹¢%$\\not\sqsubseteq{}$%g
s%â‰¯%$\\not>{}$%g
s%â‰±%$\\not\geq{}$%g
s%âŠ%$\\not\succ{}$%g
s%â‹¡%$\\not\succeq{}$%g
s%âŠ…%$\\not\supset{}$%g
s%âŠ‰%$\\not\supseteq{}$%g
s%â‹£%$\\not\sqsupseteq{}$%g
s%â‰ %$\\not=$%g
s%â‰¢%$\\not\equiv{}$%g
s%â‰%$\\not\sim{}$%g
s%â‰„%$\\not\simeq{}$%g
s%â‰‰%$\\not\approx{}$%g
s%â‰‡%$\\not\cong{}$%g
s%â‰­%$\\not\asymp{}$%g
s%â†%$\\leftarrow{}$%g
s%â‡%$\\Leftarrow{}$%g
s%â†’%$\\rightarrow{}$%g
s%â‡’%$\\Rightarrow{}$%g
s%â†‘%$\\uparrow{}$%g
s%â‡‘%$\\Uparrow{}$%g
s%â†“%$\\downarrow{}$%g
s%â‡“%$\\Downarrow{}$%g
s%â†”%$\\leftrightarrow{}$%g
s%â‡”%$\\Leftrightarrow{}$%g
s%â†•%$\\updownarrow{}$%g
s%â‡•%$\\Updownarrow{}$%g
s%â†¦%$\\mapsto{}$%g
s%â†©%$\\hookleftarrow{}$%g
s%â†¼%$\\leftharpoonup{}$%g
s%â†½%$\\leftharpoondown{}$%g
s%â‡Œ%$\\rightleftharpoons{}$%g
s%â†—%$\\nearrow{}$%g
s%â†˜%$\\searrow{}$%g
s%â†™%$\\swarrow{}$%g
s%â†–%$\\nwarrow{}$%g
s%â†%$\\leadsto{}$%g
s%âŸµ%$\\longleftarrow{}$%g
s%âŸ¸%$\\Longleftarrow{}$%g
s%âŸ¶%$\\longrightarrow{}$%g
s%âŸ¹%$\\Longrightarrow{}$%g
s%âŸ·%$\\longleftrightarrow{}$%g
s%âŸº%$\\Longleftrightarrow{}$%g
s%âŸ¼%$\\longmapsto{}$%g
s%â†ª%$\\hookrightarrow{}$%g
s%â‡€%$\\rightharpoonup{}$%g
s%â‡%$\\rightharpoondown{}$%g
s%âŒŠ%$\\lfloor{}$%g
s%âŒ‹%$\\rfloor{}$%g
s%âŒˆ%$\\lceil{}$%g
s%âŒ‰%$\\rceil{}$%g
s%âŸ¦%[\\![$%g
s%âŸ§%]\\!]$%g
s%â„‚%$\\mathbb{C}$%g
s%â„•%$\\mathbb{N}$%g
s%â„™%$\\mathbb{P}$%g
s%â„š%$\\mathbb{Q}$%g
s%â„%$\\mathbb{R}$%g
s%â„¤%$\\mathbb{Z}$%g
s%â… %I%g
s%â…¡%II%g
s%â…¢%III%g
s%â…£%IV%g
s%â…¤%V%g
s%â…¥%VI%g
s%â…¦%VII%g
s%â…§%VIII%g
s%â…¨%IX%g
s%â…©%X%g
s%â…ª%XI%g
s%â…«%XII%g
s%â…¬%L%g
s%â…­%C%g
s%â…®%D%g
s%â…¯%M%g
s%â…°%i%g
s%â…±%ii%g
s%â…²%iii%g
s%â…³%iv%g
s%â…´%v%g
s%â…µ%vi%g
s%â…¶%vii%g
s%â…·%viii%g
s%â…¸%ix%g
s%â…¹%x%g
s%â…º%xi%g
s%â…»%xii%g
s%â…¼%l%g
s%â…½%c%g
s%â…¾%d%g
s%â…¿%m%g
s%Â½%$\\frac12$%g
s%Â¼%$\\frac14$%g
s%Â¾%$\\frac34$%g
s%â…“%$\\frac13$%g
s%â…”%$\\frac23$%g
s%â…•%$\\frac15$%g
s%â…–%$\\frac25$%g
s%â…—%$\\frac35$%g
s%â…˜%$\\frac45$%g
s%â…™%$\\frac16$%g
s%â…š%$\\frac56$%g
s%â…›%$\\frac18$%g
s%â…œ%$\\frac38$%g
s%â…%$\\frac58$%g
s%â…%$\\frac78$%g
s%â°%$^{0}$%g
s%Â¹%$^{1}$%g
s%Â²%$^{2}$%g
s%Â³%$^{3}$%g
s%â´%$^{4}$%g
s%âµ%$^{5}$%g
s%â¶%$^{6}$%g
s%â·%$^{7}$%g
s%â¸%$^{8}$%g
s%â¹%$^{9}$%g
s%âº%$^{+}$%g
s%â»%$^{-}$%g
s%â¼%$^{=}$%g
s%â±%$^{i}$%g
s%â¿%$^{n}$%g
s%â½%$^{(}$%g
s%â¾%$^{)}$%g
s%â‚€%$_{0}$%g
s%â‚%$_{1}$%g
s%â‚‚%$_{2}$%g
s%â‚ƒ%$_{3}$%g
s%â‚„%$_{4}$%g
s%â‚…%$_{5}$%g
s%â‚†%$_{6}$%g
s%â‚‡%$_{7}$%g
s%â‚ˆ%$_{8}$%g
s%â‚‰%$_{9}$%g
s%â‚Š%$_{+}$%g
s%â‚‹%$_{-}$%g
s%â‚Œ%$_{=}$%g
s%â‚%$_{(}$%g
s%â‚%$_{)}$%g
s%â‚%$_{a}$%g
s%â‚‘%$_{e}$%g
s%â‚’%$_{o}$%g
s%â‚“%$_{x}$%g
s%â‚•%$_{h}$%g
s%â‚–%$_{k}$%g
s%â‚—%$_{l}$%g
s%â‚˜%$_{m}$%g
s%â‚™%$_{n}$%g
s%â‚š%$_{p}$%g
s%â‚›%$_{s}$%g
s%â‚œ%$_{t}$%g
s%â„¢%\\texttrademark{}%g
s%Âª%\\textordfeminine{}%g
s%Âº%\\textordmasculine{}%g
s%âŸ¨%$\\langle{}$%g
s%âŸ©%$\\rangle{}$%g
s%âŸª%$\\langle\!\langle{}$%g
s%âŸ«%$\\rangle\!\rangle{}$%g
s%â‹®%$\\vdots{}$%g
s%â‹¯%$\\cdots{}$%g
s%â‹±%$\\ddots{}$%g
s%ğ´%$A$%g
s%ğµ%$B$%g
s%ğ¶%$C$%g
s%ğ·%$D$%g
s%ğ¸%$E$%g
s%ğ¹%$F$%g
s%ğº%$G$%g
s%ğ»%$H$%g
s%ğ¼%$I$%g
s%ğ½%$J$%g
s%ğ¾%$K$%g
s%ğ¿%$L$%g
s%ğ‘€%$M$%g
s%ğ‘%$N$%g
s%ğ‘‚%$O$%g
s%ğ‘ƒ%$P$%g
s%ğ‘„%$Q$%g
s%ğ‘…%$R$%g
s%ğ‘†%$S$%g
s%ğ‘‡%$T$%g
s%ğ‘ˆ%$U$%g
s%ğ‘‰%$V$%g
s%ğ‘Š%$W$%g
s%ğ‘‹%$X$%g
s%ğ‘Œ%$Y$%g
s%ğ‘%$Z$%g
s%ğ‘%$a$%g
s%ğ‘%$b$%g
s%ğ‘%$c$%g
s%ğ‘‘%$d$%g
s%ğ‘’%$e$%g
s%ğ‘“%$f$%g
s%ğ‘”%$g$%g
s%â„%$h$%g
s%ğ‘–%$i$%g
s%ğ‘—%$j$%g
s%ğ‘˜%$k$%g
s%ğ‘™%$l$%g
s%ğ‘š%$m$%g
s%ğ‘›%$n$%g
s%ğ‘œ%$o$%g
s%ğ‘%$p$%g
s%ğ‘%$q$%g
s%ğ‘Ÿ%$r$%g
s%ğ‘ %$s$%g
s%ğ‘¡%$t$%g
s%ğ‘¢%$u$%g
s%ğ‘£%$v$%g
s%ğ‘¤%$w$%g
s%ğ‘¥%$x$%g
s%ğ‘¦%$y$%g
s%ğ‘§%$z$%g;
s%\(.\)$Ì‚%\\hat{\1}$%g;
s%\(.\)$Ì€%\\grave{\1}$%g;
s%\(.\)$Ì%\\acute{\1}$%g;
s%\(.\)$Ìƒ%\\tilde{\1}$%g;
s%\(.\)$Ì‡%\\dot{\1}$%g;
s%\(.\)$Ìˆ%\\ddot{\1}$%g;
s%\(.\)$Ì†%\\breve{\1}$%g;
s%\(.\)$Ì„%\\bar{\1}$%g;
s%\(.\)$ÌŒ%\\check{\1}$%g;
s%\(.\)$âƒ—%\\vec{\1}$%g;
s% log\$_{\(.\)}% \$\\log_{\1}%g;
s%[[:digit:]]%$&$%g;
:a; s/\$^{\([[:digit:]+-=()ni]*\)}\$\$^{/$^{\1/g; t a;
:b; s/\$_{\([[:digit:]+-=()]*\)}\$\$_{/$_{\1/g; t b;
s/\$-\$/-/g;
s/\$+\$/+/g;
s/\$=\$/+/g;
s/\$ - \$/ - /g;
s/\$ + \$/ + /g;
s/\$ = \$/ = /g;
s/(\$\(.\)\$)/\$(\1)\$/g;
s/\$ \$/ /g;
s/\$\$//g;
s%\$\([ [:digit:]+-=/]*\)\$%\1%g;'
